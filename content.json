{"meta":{"title":"自留地","subtitle":null,"description":"一分耕耘，一分收获","author":"Runner","url":"www.meanmap.xyz","root":"/"},"pages":[],"posts":[{"title":"Hexo 使用小技巧","slug":"hexo-code-trick","date":"2019-03-26T02:34:59.000Z","updated":"2019-03-26T07:21:12.732Z","comments":true,"path":"2019/03/26/hexo-code-trick/","link":"","permalink":"www.meanmap.xyz/2019/03/26/hexo-code-trick/","excerpt":"","text":"本文主要收录一些Hexo的使用小技巧，会不定时进行更新，本地端操作系统为Ubuntu。 1 使用VS Code 打开新博客文件首先在你的电脑上安装好VS Code. 之后在博客根目录下，新建scripts/AutoOpenEditor.js文件，如果没有scripts文件夹，新建一个。123$ mkdir scripts$ touch AutoOpenEditor.js$ vi scripts/AutoOpenEditor.js 在文件中写下如下内容：12345let spawn = require(&apos;hexo-util/lib/spawn&apos;);hexo.on(&apos;new&apos;, (data))=&gt;&#123; spawn(&apos;code&apos;),[hexo.base_dir, data.path]);&#125;); 完成后，每次调用hexo new命令都会用VS Code自动打开新.md文件。 2 VS Code直接布署博客1在VS Code中写好博客之后，如果每次都要打开终端重新进行布署，实在有些麻烦。百度一下之后发现有人早就利用VS Code任务解决了这个问题。现在把解决方法摘录如下。 在博客根目录下新建.vscode/task.json，内容如下：12345678910# in .vscode/task.json&#123; &quot;label&quot;: &quot;Generate and Deploy Hexo Blog&quot;, &quot;type&quot;: &quot;shell&quot;, &quot;command&quot;: &quot;bash -c \\&quot;cd $YOUR_BLOG_PATH;hexo clean;hexo g -d\\&quot;&quot;, &quot;group&quot;: &#123; &quot;kind&quot;: &quot;build&quot;, &quot;isDefault&quot;: true &#125;&#125; 之后，按下Ctrl+Shift+B即可执行。 3 使用SSH提交Github免输密码现在每次执行部署指令都要重新输入一次用户名和密码，实在有些烦。查看网上资料，说是由于使用https提交Github的原因，但在Github的仓库页面上显示使用SSH进行clone。真正的原因在_config.yml的deploy配置上，使用的是https，1234567891011# in _config.yml# 原内容# deploy:# type: git# repo: https://github.com/YourName/YourName.github.io.git# branch: master# 改为deploy: type: git repo: git@github.com:YourName/YourName.Github.io.git branch: master","categories":[{"name":"Fun","slug":"Fun","permalink":"www.meanmap.xyz/categories/Fun/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"www.meanmap.xyz/tags/Hexo/"},{"name":"VSCode","slug":"VSCode","permalink":"www.meanmap.xyz/tags/VSCode/"}]},{"title":"Hexo+Github Page 搭建自己的博客","slug":"hexo-githubpage-blog","date":"2019-03-25T08:51:56.000Z","updated":"2019-03-26T05:14:15.548Z","comments":true,"path":"2019/03/25/hexo-githubpage-blog/","link":"","permalink":"www.meanmap.xyz/2019/03/25/hexo-githubpage-blog/","excerpt":"","text":"这是一篇拖了很长时间的博客了，18年中买好域名，搭好博客，却迟迟没有更新。今天正好有空（其实每天都不是很忙，只是静不下心情来记录一下），所以把以前的账还一还。 这篇博客主要是记录一下博客的搭建流程，不去探讨背后的原理等，如果你对为什么这么做有疑问，这篇博客是一个很好的回答。 OK，该交代的交代完了，开始搭！ 1 安装Hexo Hexo是一款静态博客生成器。静态的意思是指生成的博客访客只能浏览，没法进行交互。 1.1 预备要安装Hexo，首先要安装git和Node.js。安装git很简单，一条命令搞定。1$ sudo apt-get install git 之后，下载安装Node.js。1234$ VERSION=v10.15.3$ DISTRO=linux-x64$ sudo mkdir -p /usr/local/lib/nodejs$ sudo tar -xJvf node-$VERSION-$DISTRO.tar.xz -C /usr/local/lib/nodejs 在~/.profile中添加变量12345# in ~/.profile# NodejsVERSION=v10.15.3DISTRO=linux-x64export PATH=/usr/local/lib/nodejs/node-$VERSION-#DISTRO/bin:$PATH 更改之后，运行指令使其生效。1$ source ~/.profile 创建sudo链接123$ sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/node /usr/bin/node$ sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/npm /usr/bin/npm$ sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/npx /usr/bin/npx 1.2 安装Hexo1npm install -g hexo-cli Hexo的常用指令： 指令 功能 hexo init 新建一个网站 hexo generate 生成静态文件 hexo server 启动服务器 hexo deploy 部署网站 hexo clean 清除缓存文件和public文件夹下已生成的静态文件。 2 配置站点为了能够方便使用Github Page 建立一个YourName.github.io文件夹，12$ mkdir YourName.github.io$ cd YourName.github.io 初始化12$ hexo init$ npm install 在_config.yaml中更改博客网页的配置。12345# in _config.yaml# Sitetitle: 改个名字description：简单介绍author： 作者 配置好之后，运行1$ hexo server 启动Hexo，在localhost:4000中即可浏览相博客。 3 写下自己的第一篇博客进入source/_posts文件夹，这个文件夹是用来保存生成博客的markdown文件的。在_post目录中新建一个.md文件，包括前页（Front-matter）及内容。前页包含以下内容 参数 描述 默认值 layout 布局 title 标题 date 建立日期 文件建立日期 updated 更新日期 文件更新日期 comments 开启文章的评论功能 true tags 标签(不适用于分页) categories 分类（不适用于分页） permalink 覆盖文章网址 使用Hexo new可以自动生成新的博客文件。1$ hexo new &quot;My First Blog&quot; Hexo中分类具有顺序和层次，而标签没有。前后分类具有父子关系。内容由markdown格式进行组织。前页与内容之间由—分隔。下面是一篇博文的示例。1234567---title: My First Blogcategories: Funtags: Hexo---This is my first blog. Haha! 写好.md文件后，运行1$ hexo generate 生成静态文件，再启动Hexo服务器就可以在本地查看博客。 4 部署到Github首先在github上建立一个名为YourName.github.io的仓库，建立仓库的时候要注意勾选自动生成README..md，不然没法部署成功。确保你的电脑已经能够连接github。 在终端运行1$ npm install hexo-deployer-git -save 更改_config.yml中的参数：12345# in config.ymldeploy: type:git repo:https://github.com/YourName/YourName.github.io.git branch:master 运行1$ hexo deploy 完成博客的部署。等待15分钟左右，在浏览器中输入YourName.github.io即可打开博客。 5 绑定域名购买域名，并进行解析，可以在阿里云或者在腾迅云上进行购买。 在source中添加文件CNAME，CNAME中包含你购买的域名。 12# in CNAMEwww.yoursite.name 运行12$ hexo generate$ hexo deploy 进行重新部署。打开网址www.yoursite.name，就可以看到搭建好的博客了。当前的博客还有点丑，换个新的主题来美化一下。 6 更换主题个人比较喜欢朴素的主题，在知乎上按推荐的主题，选择了yilia这款主题，当然Lippi-浮生志和Maupassant也很不错。先进入博客根目录，下载yilia主题1$ git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia 之后将_config.yml中的theme改为yilia，即可启用新主题。当然如果有兴趣，也可以自己完成一个属于自己的主题。 网站结果 增加目录，按照提示，在博客根目录下运行1$ npm i hexo-generator-json-content --save 在_config.yml中添加如下内容：12345678910111213141516171819# in _config.ymljsonContent: meta: false pages: false posts: title: true date: true path: true text: false raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true","categories":[{"name":"Fun","slug":"Fun","permalink":"www.meanmap.xyz/categories/Fun/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"www.meanmap.xyz/tags/Hexo/"}]}]}